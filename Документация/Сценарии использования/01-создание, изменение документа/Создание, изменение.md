# Прецедент 1: Создание и редактирование документа

## Основная информация

Рамки: Приложение «Текстовый редактор»  
Уровень: Задача, определённая пользователем  
Основной исполнитель: Пользователь  

## Заинтересованные лица и их требования

| Лицо | Требования |
|------|------------|
| Пользователь | Хочет быстро создать новый документ и отредактировать его. Требует удобного интерфейса. |
| Компания/организация | Хочет, чтобы пользователи могли легко работать с документами. |

## Предусловия

- Приложение запущено

## Постусловия (результаты)

- Новый документ создан или существующий изменён

## Основной успешный сценарий

1. Пользователь выбирает «New»
2. Система создаёт пустой документ
3. Пользователь вводит текст
4. Пользователь вносит изменения (редактирует текст, копирует, вставляет и т. п.)
5. Система отображает обновлённый документ

## Расширения (альтернативные потоки)

### 3а. Недостаточно памяти
- Система сообщает об ошибке и предлагает закрыть другие приложения

## Специальные требования

- Поддержка базовых операций редактирования (копирование, вставка, удаление, отмена/повтор)

## Частота использования

Очень высокая: это основная функция редактора

## Открытые вопросы

- Следует ли поддерживать совместное редактирование?
- Нужно ли ограничение по размеру документа?

---

## Диаграмма последовательности
``` mermaid
sequenceDiagram
    actor Пользователь
    participant Editor
    participant DocumentManager

    Пользователь->>Editor: Выбирает "New" (Ctrl+N)
    Editor->>DocumentManager: CreateNewDocument()
    DocumentManager-->>Editor: Новый документ "Untitled"
    Editor-->>Пользователь: Отображает пустой документ
    
    loop Редактирование
        Пользователь->>Editor: Вводит текст
        Editor->>Editor: Обновляет содержимое
        Editor-->>Пользователь: Отображает изменения
    end
    
    Пользователь->>Editor: Выполняет операции редактирования
    Editor->>Editor: Обрабатывает команды (копировать/вставить/удалить)
    Editor-->>Пользователь: Отображает результат операций
```
## Операции редактирования

| Операция | Горячие клавиши | Описание |
|----------|-----------------|----------|
| Копирование | Ctrl+C | Копирует выделенный текст в буфер обмена |
| Вставка | Ctrl+V | Вставляет текст из буфера обмена |
| Вырезание | Ctrl+X | Вырезает выделенный текст в буфер обмена |
| Отмена | Ctrl+Z | Отменяет последнее действие |
| Повтор | Ctrl+Y | Повторяет отменённое действие |

##  Состояние документа

- Документ помечается как изменённый (* в заголовке)
- Автоматическое сохранение черновиков каждые 5 минут
- Поддержка неограниченного количества операций отмены/повтора

